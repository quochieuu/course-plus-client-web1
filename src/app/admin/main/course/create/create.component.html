<!-- <h1 class="my-6 text-lg font-bold text-gray-700 dark:text-gray-300">Tạo khóa học</h1>
<h3 class="my-6 text-lg font-bold text-gray-400 mt-0 dark:text-gray-300">Thiết lập thông tin khóa học cơ bản</h3> -->
<div class="mdl-card mdl-shadow--2dp">

  <div class="mdl-card__supporting-text">

    <div class="mdl-stepper-horizontal-alternative">
      <div class="mdl-stepper-step active-step">
        <div class="mdl-stepper-circle"><span>1</span></div>
        <div class="mdl-stepper-title">Thêm mới khoá học</div>
        <div class="mdl-stepper-bar-left"></div>
        <div class="mdl-stepper-bar-right"></div>
      </div>
      <div class="mdl-stepper-step">
        <div class="mdl-stepper-circle"><span>2</span></div>
        <div class="mdl-stepper-title">Thêm các section</div>
        <div class="mdl-stepper-bar-left"></div>
        <div class="mdl-stepper-bar-right"></div>
      </div>
      <div class="mdl-stepper-step">
        <div class="mdl-stepper-circle"><span>3</span></div>
        <div class="mdl-stepper-title">Thêm các bài học</div>
        <div class="mdl-stepper-bar-left"></div>
        <div class="mdl-stepper-bar-right"></div>
      </div>
      <div class="mdl-stepper-step">
        <div class="mdl-stepper-circle"><span>4</span></div>
        <div class="mdl-stepper-title">Thêm các Faq</div>
        <div class="mdl-stepper-bar-left"></div>
        <div class="mdl-stepper-bar-right"></div>
      </div>
      <div class="mdl-stepper-step">
        <div class="mdl-stepper-circle"><span>5</span></div>
        <div class="mdl-stepper-title">Thêm các bài kiểm tra</div>
        <div class="mdl-stepper-bar-left"></div>
        <div class="mdl-stepper-bar-right"></div>
      </div>
    </div>

  </div>

</div>

<div class="container dcontainer">

    <form [formGroup]="createForm" (ngSubmit)="onSubmit()" class="hct-form">

    <div class="flex">
        <div class="w-2/3">
            <div class="row justify-content-center">
                <div class="col-md-4i">

                    <div class="mb-4">
                      <label class="block text-gray-700 text-sm font-bold mb-2">Tiêu đề <span class="text-danger">*</span></label>
                      <input
                        class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline"
                        type="text" formControlName="name" required placeholder="Nhập tiêu đề khóa học">
                        <small>Hãy nhập tiêu đề trên 50 ký tự để người dùng dễ dàng tìm kiếm khóa học của bạn.</small>
                        <div *ngIf="submitted && f.name.errors != undefined" class="invalid-feedback">
                          <div *ngIf="f.name.errors.required">Tiêu đề không được để trống</div>
                          <div *ngIf="f.name.errors.minlength">Tiêu đề phải lớn hơn 50 ký tự</div>
                      </div>

                    </div>

                    <div class="mb-4">
                      <label class="block text-gray-700 text-sm font-bold mb-2">Mô tả ngắn <span class="text-danger">*</span></label>
                      <textarea
                        class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline"
                        type="text" formControlName="description" required rows="5"></textarea>
                        <small>Nhập mô tả để người dùng hiểu hơn và chọn khóa học của bạn.</small>
                        <div *ngIf="submitted && f.description.errors != undefined" class="invalid-feedback">
                          <div *ngIf="f.description.errors.required">Mô tả không được để trống</div>
                          <div *ngIf="f.description.errors.minlength">Mô tả phải lớn hơn 50 ký tự</div>
                      </div>
                    </div>

                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Link giới thiệu khóa học (Youtube)</label>
                        <input
                          class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline"
                          type="text" formControlName="urlYoutubeVideo" required>
                          <small>Nếu bạn upload video giới thiệu lên có thể bỏ qua trường này.</small>
                      </div>

                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Thông báo về khóa học</label>
                          <angular-editor formControlName="announcement" [config]="editorConfig2"></angular-editor>
                          <small>Thêm một vài thông báo về khóa học (nếu có, ví dụ thời gian bắt đầu khóa học,..)</small>
                      </div>

                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Nội dung khóa học <span class="text-danger">*</span></label>
                          <angular-editor formControlName="content" [config]="editorConfig"></angular-editor>
                          <small>Nhập giới thiệu chi tiết về khóa học của bạn.</small>
                          <div *ngIf="submitted && f.content.errors != undefined" class="invalid-feedback">
                            <div *ngIf="f.content.errors.required">Nội dung khoá học không được để trống</div>
                            <div *ngIf="f.content.errors.minlength">Nội dung phải lớn hơn 50 ký tự</div>
                        </div>
                      </div>

                    <div class="mb-4">
                      <button
                        class="rounded-md inline-block align-baseline text-sm text-white bg-green-500 hover:text-blue-800 px-4 py-1"
                        type="submit">Xuất bản</button>
                    </div>
                </div>
              </div>
        </div>
        <div class="w-1/3 ml-5">
          <label class="block text-gray-700 text-sm font-bold mb-2 upimagelabel">
            <img src="./../../../../assets/client/assets/images/up-image-ico.png"/>
            <span>Chọn ảnh khóa học <span class="text-danger">*</span></span>
          </label>
          <input
              formControlName="file"
              id="file"
              type="file"
              class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline"
              (change)="onFileChange($event)" />
              <small><span class="text-danger">*</span>Vui lòng upload định dạng (.jpg, .jpeg hoặc .png)</small>
              <div *ngIf="submitted && f.file.errors != undefined" class="invalid-feedback">
                <div *ngIf="f.file.errors.required">Hãy chọn ảnh khoá học</div>
            </div>

              <img [src]="imageSrc" *ngIf="imageSrc">

            <div class="row justify-content-center mt-2">
                <div class="col-md-4i">
                  <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Danh mục <span class="text-danger">*</span></label>
                    <select formControlName="courseCategoryId" class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline">
                      <option value="" selected>-- Chọn danh mục --</option>
                      <option *ngFor="let cat of courseCategories" [ngValue]="cat.id" >{{cat.name}}</option>
                    </select>
                    <small>Chọn danh mục để người dùng tìm khóa học của bạn dễ dàng hơn.</small>
                  </div>

                    <div class="mb-4">
                      <label class="block text-gray-700 text-sm font-bold mb-2">Ngôn ngữ <span class="text-danger">*</span></label>
                        <select formControlName="language" class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline">
                          <option value="">-- Chọn ngôn ngữ --</option>
                          <option [value]="lang" *ngFor="let lang of langs">{{lang}}</option>
                        </select>
                        <small>Hãy chi tiết đến học viên của bạn rằng khóa học được dậy bằng ngôn ngữ gì</small>
                        <div *ngIf="submitted && f.language.errors != undefined" class="invalid-feedback">
                          <div *ngIf="f.language.errors.required">Hãy chọn ngôn ngữ của khoá học</div>
                      </div>
                    </div>
                    <div class="mb-4">
                      <label class="block text-gray-700 text-sm font-bold mb-2">Giá khóa học <span class="text-danger">*</span></label>
                      <input
                        class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline"
                        type="number" formControlName="price" required min="0">
                        <small>Hãy để giá trị <b>0</b> nếu khóa học này <b>Miễn phí</b></small>
                        <div *ngIf="submitted && f.price.errors != undefined" class="invalid-feedback">
                          <div *ngIf="f.price.errors.required">Hãy nhập giá khoá học</div>
                          <div *ngIf="f.price.errors.min">Giá phải lớn hơn 0</div>
                      </div>
                    </div>

                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Giá gốc (Trước khi giảm giá) <span class="text-danger">*</span></label>
                        <input
                          class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline"
                          type="number" formControlName="originalPrice" required>
                        <small>Trước khi hình thành giá bán, giá gốc trước giảm giá bao nhiêu. Hãy để giá trị <b>0</b> khi <b>không có giá gốc.</b></small>
                          <div *ngIf="submitted && f.originalPrice.errors != undefined" class="invalid-feedback">
                            <div *ngIf="f.originalPrice.errors.required">Hãy nhập giá gốc khoá học</div>
                        </div>
                      </div>

                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Đơn vị giá <span class="text-danger">*</span></label>
                          <select formControlName="priceUnit" class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline">
                            <option value="" selected>-- Chọn đơn vị giá --</option>
                            <option *ngFor="let unit of priceUnits" [value]="unit.unit">{{unit.unit}} ({{unit.description}})</option>
                          </select>
                          <small>Chọn đơn vị tiền tệ phù hợp với giá khóa học của bạn.</small>
                          <div *ngIf="submitted && f.priceUnit.errors != undefined" class="invalid-feedback">
                            <div *ngIf="f.priceUnit.errors.required">Hãy chọn đơn vị tiền tệ</div>
                        </div>
                      </div>

                      <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Ngày bắt đầu khóa học <span class="text-danger">*</span></label>
                        <input
                          class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline"
                          type="datetime-local" formControlName="startDate" required>
                          <div *ngIf="submitted && f.startDate.errors != undefined" class="invalid-feedback">
                            <div *ngIf="f.startDate.errors.required">Hãy chọn ngày bắt đầu khoá học</div>
                        </div>
                      </div>

                      <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Ngày kết thúc khóa học</label>
                        <input
                          class=" appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:-outline"
                          type="datetime-local" formControlName="endDate" required>
                      </div>
                </div>
              </div>
        </div>
    </div>
</form>
</div>

<a routerLink="/admin/course/index"
  class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800">Back to list</a>
